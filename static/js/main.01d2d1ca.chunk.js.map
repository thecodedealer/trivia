{"version":3,"sources":["store/modules/core/plain/types.ts","store/helpers/functions.ts","store/modules/main/thunk/types.ts","store/modules/main/plain/types.ts","store/modules/core/plain/actions.ts","store/modules/core/thunk/abstract-actions.ts","store/helpers/createActions.ts","store/modules/main/plain/actions.ts","store/modules/main/thunk/fetch-actions.ts","store/modules/main/plain/selectors.ts","components/MainForm.tsx","store/modules/main/thunk/basic-actions.ts","components/Question.tsx","components/elements/Timer.tsx","components/Questionnaire.tsx","components/elements/Copyright.tsx","components/modals/Modal.tsx","components/Layout.tsx","App.tsx","reportWebVitals.ts","libs/reStore/reStoreBuilder.ts","store/modules/core/plain/reducer.ts","store/modules/main/plain/reducer.ts","store/index.ts","index.tsx"],"names":["ActionTypes","ThunkTypes","resolveDynamicRequestType","originalType","target","setRequestSuccess","payload","type","SET_REQUEST_SUCCESS","setRequestFailed","SET_REQUEST_FAILED","processApiRequest","actionType","requestConfig","initHook","successHook","errorHook","finalHook","wrappers","method","path","axiosConfig","start","Date","getTime","dispatch","getState","state","axios","defaults","baseURL","timeout","setRequestInitiatedThunk","resolveWrappersArray","toLowerCase","then","data","end","setRequestSuccessThunk","time","duration","request","catch","err","setRequestFailedThunk","finally","originalAction","SET_REQUEST_INITIATED","createBasicThunkAction","action","_","isEmpty","wrapper","init","success","error","final","createFetchThunkAction","config","hooks","a","setQuestion","SET_QUESTION","openModal","OPEN_MODAL","resetQuestionnaire","RESET_QUESTIONNAIRE","getTriviaCategories","GET_CATEGORIES","res","trivia_categories","SET_CATEGORIES","response","fetchQuestions","FETCH_QUESTIONS","params","results","SET_QUESTIONS","SET_STEP","setStep","selectReducer","main","selectQuestions","createSelector","questions","selectStep","step","selectQuestion","question","selectCurrentQuestion","q","selectIsLastQuestion","length","selectQuestionsLength","selectModal","modal","selectQuestionnaire","questionnaire","selectCategories","categories","isFormSubmitted","submitted","useStyles","makeStyles","theme","card","textAlign","formControl","margin","spacing","minWidth","selectEmpty","marginTop","title","marginBottom","btns","info","MainForm","useDispatch","classes","useState","amount","setAmount","category","setCat","difficulty","setDifficulty","setType","useSelector","className","Typography","variant","component","FormControl","InputLabel","id","Select","labelId","value","onChange","event","MenuItem","disabled","e","map","cat","index","name","Button","color","onClick","saveQuestion","SAVE_QUESTION","qId","isAnswerCorrect","correct_answer","SAVE_RESPONSE","saveResponse","answer","win","Question","RESET","questionId","allVariants","useMemo","incorrect_answers","handleChosen","useCallback","FormLabel","RadioGroup","item","FormControlLabel","control","Radio","label","Timer","counter","setCounter","useEffect","timer","setInterval","tile","content","withoutClose","clearInterval","toISOString","substr","Questionnaire","isSubmitted","currentQuestion","isLastQuestions","questionL","score","handleNavigation","responses","SET_SUBMITTED","Copyright","align","Link","href","getFullYear","Modal","open","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","CLOSE_MODAL","appBar","position","layout","width","marginLeft","marginRight","breakpoints","up","paper","padding","stepper","buttons","display","justifyContent","button","Layout","Fragment","CssBaseline","AppBar","Toolbar","noWrap","Paper","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReSoreBuilder","store","middlewares","enhancer","withEnhancer","rootReducer","reducers","this","createStoreEnhancer","createRootReducer","createStore","reducer","console","warn","combineReducers","getReducers","getComposeEnhancer","composeEnhancer","applyMiddleware","key","resolveReducer","produce","draftState","compose","initialState","test","requests","stats","initiated","failed","canceled","logs","storeBuilder","addMiddlewares","thunk","addReducer","TEST","url","push","SET_REQUEST_CANCELLED","getStore","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.01d2d1ca.chunk.js","sourcesContent":["import {PlainAction} from \"../../../../libs/reStore\";\r\nimport {AxiosResponse} from \"axios\";\r\nimport {ISetRequestThunkAction} from \"../../../interfaces/thunkTypes\";\r\n\r\n\r\n/**\r\n * STATE INTERFACE\r\n */\r\nexport interface IState {\r\n    test: any,\r\n\r\n    requests: {\r\n        stats: {\r\n            initiated: number;\r\n            success: number;\r\n            failed: number;\r\n            canceled: number;\r\n        },\r\n        logs: {\r\n            success: { [key: string]: { time: {}, request: AxiosResponse }[] };\r\n            failed: { [key: string]: { time: {}, request: AxiosResponse }[] };\r\n            canceled: { [key: string]: { time: {}, request: AxiosResponse }[] };\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * ACTION TYPES\r\n */\r\nexport enum ActionTypes {\r\n    TEST = 'core/TEST',\r\n\r\n    SET_REQUEST_INITIATED = 'core/SET_REQUEST_INITIATED',\r\n    SET_REQUEST_SUCCESS = 'core/SET_REQUEST_SUCCESS',\r\n    SET_REQUEST_FAILED = 'core/SET_REQUEST_FAILED',\r\n    SET_REQUEST_CANCELLED = 'core/SET_REQUEST_CANCELLED',\r\n    SET_REQUEST_FINAL = 'core/SET_REQUEST_FINAL'\r\n}\r\n\r\n\r\n/**\r\n * PLAIN ACTIONS\r\n */\r\n\r\nexport type ITestAction = PlainAction<ActionTypes.TEST, any>\r\n\r\nexport type SetRequestInitiatedAction = PlainAction<ActionTypes.SET_REQUEST_INITIATED, { type: string }>\r\nexport type SetRequestSuccessAction = PlainAction<ActionTypes.SET_REQUEST_SUCCESS, ISetRequestThunkAction>\r\nexport type SetRequestFailedAction = PlainAction<ActionTypes.SET_REQUEST_FAILED, ISetRequestThunkAction>\r\nexport type SetRequestCancelledAction = PlainAction<ActionTypes.SET_REQUEST_CANCELLED, ISetRequestThunkAction>\r\n\r\nexport type SetDynamicRequestActionInit = PlainAction<string, null>\r\n\r\n/**\r\n * Create an UNION type as PlainActions\r\n */\r\nexport type PlainActions = ITestAction\r\n    | SetRequestInitiatedAction\r\n    | SetRequestSuccessAction\r\n    | SetRequestFailedAction\r\n    | SetRequestCancelledAction\r\n    | SetDynamicRequestActionInit\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","export const resolveDynamicRequestType = (originalType: string, target: 'INIT' | 'SUCCESS' | 'FAILED' | 'CANCELED') => {\r\n    return `${originalType}_REQ_${target}`\r\n}\r\n","/**\r\n * THUNK TYPES\r\n */\r\nimport {BasicThunkAction, FetchThunkAction} from \"../../../../libs/reStore/interfaces\";\r\nimport {IQuestion, ITriviaCategory, QuestionDifficulty, QuestionType} from \"../../../../interfaces\";\r\n\r\nexport enum ThunkTypes {\r\n    GET_CATEGORIES = 'main/thunk/GET_CATEGORIES',\r\n    FETCH_QUESTIONS = 'main/thunk/FETCH_QUESTIONS',\r\n    SAVE_QUESTION = 'main/thunk/SAVE_QUESTION',\r\n    RESET = 'main/thunk/RESET'\r\n}\r\n\r\n\r\n/**\r\n * THUNK ACTION TYPES\r\n */\r\nexport type GetCategoriesThunk = FetchThunkAction<ThunkTypes.GET_CATEGORIES, null, { trivia_categories: ITriviaCategory[] }>\r\nexport type FetchQuestionsThunk = FetchThunkAction<ThunkTypes, { amount: number, difficulty?: QuestionDifficulty, type?: QuestionType, category?: number }, { response_code: number, results: IQuestion[] }>\r\nexport type SaveQuestionThunk = BasicThunkAction<ThunkTypes.SAVE_QUESTION, string, void>\r\nexport type ResetQuestionnaireThunk = BasicThunkAction<ThunkTypes.RESET, null, void>\r\n\r\n\r\n/**\r\n * Create an UNION action types as ThunkActions\r\n */\r\nexport type ThunkActions =\r\n    | GetCategoriesThunk\r\n    | FetchQuestionsThunk\r\n    | ResetQuestionnaireThunk\r\n","/**\r\n * STATE INTERFACE\r\n */\r\nimport {PlainAction} from \"../../../../libs/reStore\";\r\nimport {IQuestion, ITriviaCategory} from \"../../../../interfaces\";\r\n\r\n\r\nexport interface IState {\r\n    questions: IQuestion[]\r\n    step: number\r\n    question: number\r\n\r\n    submitted: boolean\r\n\r\n    categories: ITriviaCategory[]\r\n\r\n    questionnaire: {\r\n        responses: { id: { answer: boolean, win: boolean } } | {}\r\n        score: number\r\n    },\r\n\r\n    modal: {\r\n        open: boolean\r\n        title: string\r\n        content: string\r\n    }\r\n}\r\n\r\n/**\r\n * PLAIN TYPES\r\n */\r\nexport enum ActionTypes {\r\n    SET_QUESTIONS = 'main/SET_QUESTIONS',\r\n\r\n    SET_STEP = 'main/SET_STEP',\r\n    SET_QUESTION = 'main/SET_QUESTION',\r\n\r\n    SAVE_RESPONSE = 'main/SAVE_RESPONSE',\r\n\r\n    OPEN_MODAL = 'main/OPEN_MODAL',\r\n    CLOSE_MODAL = 'main/CLOSE_MODAL',\r\n\r\n    RESET_QUESTIONNAIRE = 'main/RESET_QUESTIONNAIRE',\r\n\r\n    SET_CATEGORIES = 'main/SET_CATEGORIES',\r\n\r\n    SET_SUBMITTED = 'main/SET_SUBMITTED'\r\n}\r\n\r\n/**\r\n * PLAIN ACTION TYPES\r\n */\r\n\r\nexport type ISetQuestionsAction = PlainAction<ActionTypes.SET_QUESTIONS, IQuestion[]>\r\nexport type ISetStepAction = PlainAction<ActionTypes.SET_STEP, number>\r\nexport type ISetQuestion = PlainAction<ActionTypes.SET_QUESTION, number>\r\nexport type ISaveResponse = PlainAction<ActionTypes.SAVE_RESPONSE, { qId: number, answer: string, win: boolean }>\r\nexport type IOpenModal = PlainAction<ActionTypes.OPEN_MODAL, { title: string, content: string, withoutClose?: boolean }>\r\nexport type ICloseModal = PlainAction<ActionTypes.CLOSE_MODAL, null>\r\nexport type IResetQuestionnaire = PlainAction<ActionTypes.RESET_QUESTIONNAIRE, null>\r\nexport type ISetCategories = PlainAction<ActionTypes.SET_CATEGORIES, ITriviaCategory[]>\r\nexport type ISetSubmitted = PlainAction<ActionTypes.SET_SUBMITTED, null>\r\n\r\n/**\r\n * Create an UNION action types as PlainActions\r\n */\r\nexport type PlainActions =\r\n    | ISetQuestionsAction\r\n    | ISetStepAction\r\n    | ISetQuestion\r\n    | ISaveResponse\r\n    | IOpenModal\r\n    | ICloseModal\r\n    | IResetQuestionnaire\r\n    | ISetCategories\r\n    | ISetSubmitted\r\n\r\n\r\n","import {\r\n    ActionTypes,\r\n    ITestAction,\r\n    SetRequestCancelledAction,\r\n    SetRequestFailedAction,\r\n    SetRequestInitiatedAction,\r\n    SetRequestSuccessAction\r\n} from \"./types\";\r\nimport {PlainAction} from \"../../../../libs/reStore\";\r\nimport { resolveDynamicRequestType} from \"../../../helpers/functions\";\r\n\r\n/**\r\n * ACTIONS CREATORS\r\n */\r\n\r\n\r\nconst createPlainAction = <A extends PlainAction<any, any>>(\r\n    action: (payload: A['payload']) => ({ type: A['type'], payload: A['payload'] })\r\n) => action\r\n\r\n\r\nexport const testAction = (value: any): ITestAction => ({\r\n    type: ActionTypes.TEST,\r\n    payload: value\r\n})\r\n\r\nexport const setRequestInitiated = (): SetRequestInitiatedAction => ({\r\n    type: ActionTypes.SET_REQUEST_INITIATED,\r\n});\r\n\r\nexport const setRequestSuccess = createPlainAction<SetRequestSuccessAction>(\r\n    (payload) => ({\r\n        type: ActionTypes.SET_REQUEST_SUCCESS,\r\n        payload\r\n    })\r\n)\r\n\r\nexport const setRequestFailed = createPlainAction<SetRequestFailedAction>(\r\n    (payload) => ({\r\n        type: ActionTypes.SET_REQUEST_FAILED,\r\n        payload\r\n    })\r\n)\r\n\r\nexport const setRequestCancelled = createPlainAction<SetRequestCancelledAction>(\r\n    (payload) => ({\r\n        type: ActionTypes.SET_REQUEST_CANCELLED,\r\n        payload\r\n    })\r\n)\r\n\r\nexport const setDynamicRequestActionInit = (actionName: string) => ({\r\n    type: resolveDynamicRequestType(actionName, 'INIT'),\r\n});\r\n\r\nexport const setDynamicRequestActionSuccess = (actionName: string) => ({\r\n    type: resolveDynamicRequestType(actionName, 'SUCCESS'),\r\n});\r\n\r\nexport const setDynamicRequestActionError = (actionName: string) => ({\r\n    type: resolveDynamicRequestType(actionName, 'FAILED'),\r\n});\r\n\r\nexport const setDynamicRequestActionCanceled = (actionName: string) => ({\r\n    type: resolveDynamicRequestType(actionName, 'CANCELED')\r\n})\r\n","import axios from \"axios\";\r\nimport {\r\n    ProcessApiRequestThunkAction,\r\n    SetRequestFailedThunkAction,\r\n    SetRequestInitiatedThunkAction,\r\n    SetRequestSuccessThunkAction\r\n} from \"./types\";\r\nimport {IRootState, RootActions} from \"../../../index\";\r\nimport {createAbstractThunkAction} from \"../../../helpers/createAbstractThunkAction\";\r\nimport {resolveWrappersArray} from \"../../../helpers/createActions\";\r\nimport {\r\n    setDynamicRequestActionCanceled,\r\n    setDynamicRequestActionError,\r\n    setDynamicRequestActionInit,\r\n    setDynamicRequestActionSuccess,\r\n    setRequestCancelled,\r\n    setRequestFailed,\r\n    setRequestInitiated,\r\n    setRequestSuccess\r\n} from \"../plain/actions\";\r\n\r\nexport const processApiRequest = createAbstractThunkAction<ProcessApiRequestThunkAction, IRootState, RootActions>(\r\n    (payload) => {\r\n        const {\r\n            actionType,\r\n            requestConfig,\r\n            initHook,\r\n            successHook,\r\n            errorHook,\r\n            finalHook,\r\n            wrappers\r\n        } = payload\r\n        const {method, path, axiosConfig} = requestConfig;\r\n\r\n        const start = new Date().getTime()\r\n\r\n        return (dispatch, getState) => {\r\n            const state = getState()\r\n\r\n            /*\r\n            APPLY AXIOS DEFAULT CONFIG\r\n             */\r\n            axios.defaults.baseURL = 'https://opentdb.com/'\r\n            axios.defaults.timeout = 20000\r\n\r\n            dispatch(setRequestInitiatedThunk(actionType))\r\n\r\n            if (initHook) initHook(dispatch, state)\r\n            resolveWrappersArray(wrappers, 'init')\r\n\r\n            return axios[method.toLowerCase()](path, axiosConfig)\r\n                .then(data => {\r\n                    const end = new Date().getTime()\r\n                    const duration = end - start\r\n                    dispatch(setRequestSuccessThunk({type: actionType, time: {start, end, duration}, request: data}))\r\n                    if (successHook) successHook(data, dispatch, state)\r\n                    resolveWrappersArray(wrappers, 'success')\r\n                })\r\n\r\n                .catch(err => {\r\n                    const end = new Date().getTime()\r\n                    const duration = end - start\r\n                    dispatch(setRequestFailedThunk({type: actionType, time: {start, end, duration}, request: err}))\r\n                    if (errorHook) errorHook(err, dispatch, state)\r\n                    resolveWrappersArray(wrappers, 'error')\r\n                })\r\n                .finally(() => {\r\n                        if (finalHook) finalHook(dispatch, state)\r\n                        resolveWrappersArray(wrappers, 'final')\r\n                    }\r\n                )\r\n        }\r\n    })\r\n\r\n\r\nexport const setRequestInitiatedThunk = createAbstractThunkAction<SetRequestInitiatedThunkAction, IRootState, RootActions>(\r\n    (originalAction) => dispatch => {\r\n        dispatch(setRequestInitiated())\r\n        dispatch(setDynamicRequestActionInit(originalAction))\r\n    }\r\n)\r\n\r\nexport const setRequestSuccessThunk = createAbstractThunkAction<SetRequestSuccessThunkAction, IRootState, RootActions>(\r\n    ({type, time, request}) => dispatch => {\r\n        dispatch(setRequestSuccess({type, time, request}))\r\n        dispatch(setDynamicRequestActionSuccess(type))\r\n    }\r\n)\r\n\r\nexport const setRequestFailedThunk = createAbstractThunkAction<SetRequestFailedThunkAction, IRootState, RootActions>(\r\n    ({type, time, request}) => dispatch => {\r\n        dispatch(setRequestFailed({type, time, request}))\r\n        dispatch(setDynamicRequestActionError(type))\r\n    }\r\n)\r\n\r\nexport const setRequestCanceledThunk = createAbstractThunkAction<SetRequestFailedThunkAction, IRootState, RootActions>(\r\n    ({type, time, request}) => dispatch => {\r\n        dispatch(setRequestCancelled({type, time, request}))\r\n        dispatch(setDynamicRequestActionCanceled(type))\r\n    }\r\n)\r\n\r\n","import {BasicThunkAction} from \"../../libs/reStore\";\r\nimport {Action} from \"redux\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport {CreateFetchThunkActionHooks, IApiRequestConfig} from \"../interfaces/processApiRequestParams\";\r\nimport {processApiRequest} from \"../modules/core/thunk/abstract-actions\";\r\nimport {AxiosPromise} from \"axios\";\r\nimport _ from 'lodash'\r\n\r\nexport const createBasicThunkAction = <T extends BasicThunkAction<any, any, any>, S, A extends Action>\r\n(\r\n    type: T[\"type\"],\r\n    action: (payload?: T['payload']) => ThunkAction<T[\"response\"], S, undefined, A>\r\n): (payload?: T['payload']) => ThunkAction<T['response'], S, undefined, A> => {\r\n    return (payload?) => (dispatch, getState) => {\r\n        // @ts-ignore\r\n        dispatch({type})\r\n        return dispatch(action(payload))\r\n    }\r\n}\r\n\r\nexport interface WrapperHooks {\r\n    init?: () => void\r\n    success?: () => void\r\n    error?: () => void\r\n    final?: () => void\r\n}\r\n\r\nexport type CreateWrapper = (CreateWrapperParams) => WrapperHooks\r\n\r\nexport const createWrapper: CreateWrapper = (hooks) => hooks\r\n\r\n\r\nexport const resolveWrappersArray = (wrappers: WrapperHooks[], target: 'init' | 'success' | 'error' | 'final') => {\r\n\r\n    if (!_.isEmpty(wrappers))\r\n        for (const wrapper of wrappers) {\r\n            if (target === 'init' && wrapper.init) wrapper.init()\r\n            if (target === 'success' && wrapper.success) wrapper.success()\r\n            if (target === 'error' && wrapper.error) wrapper.error()\r\n            if (target === 'final' && wrapper.final) wrapper.final()\r\n        }\r\n}\r\n\r\n\r\nexport const createFetchThunkAction = <T extends BasicThunkAction<any, any, any>, S, A extends Action>\r\n(\r\n    type: T['type'],\r\n    config: (payload: T['payload']) => IApiRequestConfig<T['payload']>,\r\n    hooks?: CreateFetchThunkActionHooks<S, A, T['response']>,\r\n    wrappers?: WrapperHooks[]\r\n): (payload?: T['payload']) => ThunkAction<AxiosPromise, S, undefined, A> => {\r\n\r\n    const {init, success, error, final} = hooks\r\n\r\n    // @ts-ignore\r\n    return (payload?: T['payload']) => {\r\n        return async (dispatch) => {\r\n            // @ts-ignore\r\n            return dispatch(processApiRequest({\r\n                actionType: type,\r\n                requestConfig: config(payload),\r\n                initHook: init,\r\n                successHook: success,\r\n                errorHook: error,\r\n                finalHook: final,\r\n                wrappers\r\n            }))\r\n        }\r\n    }\r\n}\r\n","import {\r\n    ActionTypes,\r\n    ICloseModal,\r\n    IOpenModal,\r\n    IResetQuestionnaire,\r\n    ISaveResponse, ISetCategories,\r\n    ISetQuestion,\r\n    ISetQuestionsAction,\r\n    ISetStepAction, ISetSubmitted\r\n} from \"./types\";\r\nimport {IQuestion} from \"../../../../interfaces\";\r\n\r\n/**\r\n * ACTION CREATORS\r\n */\r\n\r\nexport const setQuestions = (payload: IQuestion[]): ISetQuestionsAction => ({\r\n    type: ActionTypes.SET_QUESTIONS,\r\n    payload\r\n})\r\n\r\nexport const setStep = (payload: 1 | 2): ISetStepAction => ({\r\n    type: ActionTypes.SET_STEP,\r\n    payload\r\n})\r\n\r\nexport const setQuestion = (payload: number): ISetQuestion => ({\r\n    type: ActionTypes.SET_QUESTION,\r\n    payload\r\n})\r\n\r\nexport const saveResponse = (payload): ISaveResponse => ({\r\n    type: ActionTypes.SAVE_RESPONSE,\r\n    payload\r\n})\r\n\r\nexport const openModal = (payload): IOpenModal => ({\r\n    type: ActionTypes.OPEN_MODAL,\r\n    payload\r\n})\r\n\r\nexport const closeModal = (): ICloseModal => ({\r\n    type: ActionTypes.CLOSE_MODAL\r\n})\r\n\r\nexport const resetQuestionnaire = (): IResetQuestionnaire => ({\r\n    type: ActionTypes.RESET_QUESTIONNAIRE\r\n})\r\n\r\nexport const setCategories = (payload): ISetCategories => ({\r\n    type: ActionTypes.SET_CATEGORIES,\r\n    payload\r\n})\r\n\r\nexport const setSubmitted = (): ISetSubmitted => ({\r\n    type: ActionTypes.SET_SUBMITTED\r\n})\r\n","import {createFetchThunkAction} from \"../../../helpers/createActions\";\r\nimport {FetchQuestionsThunk, GetCategoriesThunk, ThunkTypes} from \"./types\";\r\nimport {IRootState, RootActions} from \"../../../index\";\r\nimport {setCategories, setQuestions, setStep} from \"../plain/actions\";\r\n\r\nexport const getTriviaCategories = createFetchThunkAction<GetCategoriesThunk, IRootState, RootActions>(\r\n    ThunkTypes.GET_CATEGORIES,\r\n    (data) => ({\r\n        method: 'GET',\r\n        path: 'api_category.php',\r\n        data\r\n    }),\r\n    {\r\n        success: (res, dispatch, state) => {\r\n            dispatch(setCategories(res.data.trivia_categories))\r\n        },\r\n        error: (response) => {\r\n        }\r\n    }\r\n)\r\n\r\nexport const fetchQuestions = createFetchThunkAction<FetchQuestionsThunk, IRootState, RootActions>(\r\n    ThunkTypes.FETCH_QUESTIONS,\r\n    (params) => ({\r\n        method: 'GET',\r\n        path: 'api.php',\r\n        axiosConfig: {\r\n            params\r\n        }\r\n    }),\r\n    {\r\n        success: (res, dispatch, state) => {\r\n            dispatch(setQuestions(res.data.results))\r\n            dispatch(setStep(2))\r\n        },\r\n        error: (response) => {\r\n        }\r\n    }\r\n)\r\n\r\n","import {createSelector} from 'reselect'\r\nimport {IState} from \"./types\";\r\nimport {IRootState} from \"../../../index\";\r\n\r\nconst selectReducer = (state: IRootState): IState => state.main\r\n\r\n\r\nexport const selectQuestions = createSelector(selectReducer, main => main.questions)\r\nexport const selectStep = createSelector(selectReducer, main => main.step)\r\nexport const selectQuestion = createSelector(selectReducer, main => main.question)\r\nexport const selectCurrentQuestion = createSelector(selectQuestions, selectQuestion, (questions, q) => questions[q - 1])\r\nexport const selectIsLastQuestion = createSelector(selectQuestions, selectQuestion, (questions, q) => questions.length === q)\r\n\r\nexport const selectQuestionsLength = createSelector(selectQuestions, q => q.length)\r\n\r\nexport const selectModal = createSelector(selectReducer, main => main.modal)\r\n\r\nexport const selectQuestionnaire = createSelector(selectReducer, main => main.questionnaire)\r\n\r\nexport const selectCategories = createSelector(selectReducer, main => main.categories)\r\n\r\nexport const isFormSubmitted = createSelector(selectReducer, main => main.submitted)\r\n","import React, {FC, useState} from \"react\";\r\nimport {Button, FormControl, InputLabel, makeStyles, MenuItem, Select, Typography} from \"@material-ui/core\";\r\nimport {QuestionDifficulty, QuestionType} from \"../interfaces\";\r\nimport {fetchQuestions} from \"../store/modules/main/thunk/fetch-actions\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {selectCategories} from \"../store/modules/main/plain/selectors\";\r\n\r\ninterface IProps {\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    card: {\r\n        textAlign: 'center'\r\n    },\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        minWidth: 200,\r\n    },\r\n    selectEmpty: {\r\n        marginTop: theme.spacing(2),\r\n    },\r\n    title: {\r\n        marginBottom: theme.spacing(5)\r\n    },\r\n    btns: {\r\n        marginTop: theme.spacing(5)\r\n    },\r\n    info: {\r\n        marginTop: theme.spacing(3)\r\n    }\r\n}));\r\n\r\nexport const MainForm: FC<IProps> = () => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const classes = useStyles();\r\n\r\n    const [amount, setAmount] = useState<number>(5);\r\n\r\n    const [category, setCat] = useState<number>(0)\r\n\r\n    const [difficulty, setDifficulty] = useState<QuestionDifficulty>('easy');\r\n\r\n    const [type, setType] = useState<QuestionType>('multiple');\r\n\r\n    const categories = useSelector(selectCategories)\r\n\r\n    const handleChangeAmount = (event) => {\r\n        setAmount(event.target.value);\r\n    };\r\n\r\n    const handleChangeDifficulty = (event) => {\r\n        setDifficulty(event.target.value);\r\n    };\r\n\r\n    const handleChangeType = (event) => {\r\n        setType(event.target.value);\r\n    };\r\n\r\n    const handleChangeCat = (e) => {\r\n        setCat(e.target.value)\r\n    }\r\n\r\n    const handleGenerateQuestions = () => {\r\n        let config = {amount, difficulty, type}\r\n\r\n        if (category) { // @ts-ignore\r\n            config = {...config, category}\r\n        }\r\n\r\n        dispatch(fetchQuestions(config))\r\n    }\r\n\r\n    return (\r\n        <div className={classes.card}>\r\n\r\n            <div className={classes.title}>\r\n                <Typography variant=\"h5\" component=\"h2\">\r\n                    Select your preferences\r\n                </Typography>\r\n            </div>\r\n\r\n            <FormControl className={classes.formControl}>\r\n                <InputLabel id=\"demo-simple-select-label\">Number of questions</InputLabel>\r\n                <Select\r\n                    labelId=\"demo-simple-select-label\"\r\n                    id=\"demo-simple-select\"\r\n                    value={amount}\r\n                    onChange={handleChangeAmount}\r\n                >\r\n                    <MenuItem value={5}>5</MenuItem>\r\n                    <MenuItem value={10}>10</MenuItem>\r\n                    <MenuItem value={15}>15</MenuItem>\r\n                </Select>\r\n            </FormControl>\r\n\r\n            <FormControl className={classes.formControl}>\r\n                <InputLabel id=\"demo-simple-select-label\">Difficulty</InputLabel>\r\n                <Select\r\n                    labelId=\"demo-simple-select-label\"\r\n                    id=\"demo-simple-select\"\r\n                    value={difficulty}\r\n                    onChange={handleChangeDifficulty}\r\n                >\r\n                    <MenuItem value='easy'>Easy</MenuItem>\r\n                    <MenuItem value='medium'>Medium</MenuItem>\r\n                    <MenuItem value='hard'>Hard</MenuItem>\r\n                </Select>\r\n            </FormControl>\r\n\r\n            <FormControl className={classes.formControl}>\r\n                <InputLabel id=\"demo-simple-select-label\">Type</InputLabel>\r\n                <Select\r\n                    labelId=\"demo-simple-select-label\"\r\n                    id=\"demo-simple-select\"\r\n                    value={type}\r\n                    disabled\r\n                    onChange={handleChangeType}\r\n                >\r\n                    <MenuItem value='any'>Any</MenuItem>\r\n                    <MenuItem value='multiple'>Multiple Choice</MenuItem>\r\n                    <MenuItem value='boolean'>True / false</MenuItem>\r\n                </Select>\r\n            </FormControl>\r\n\r\n            <FormControl className={classes.formControl}>\r\n                <InputLabel id=\"demo-simple-select-label\">Categories</InputLabel>\r\n                <Select\r\n                    labelId=\"demo-simple-select-label\"\r\n                    id=\"demo-simple-select\"\r\n                    value={category}\r\n                    onChange={handleChangeCat}\r\n                >\r\n                    <MenuItem value={0}>Select category</MenuItem>\r\n                    {\r\n                        categories.map((cat, index) => (\r\n                            <MenuItem key={cat.id} value={cat.id}>{cat.name}</MenuItem>\r\n                        ))\r\n                    }\r\n                </Select>\r\n            </FormControl>\r\n\r\n            <div className={classes.info}>\r\n                <Typography\r\n                    variant=\"caption\">{`You will have ${amount} minutes to complete the questionnaire!`}\r\n                </Typography>\r\n            </div>\r\n\r\n            <div className={classes.btns}>\r\n                <Button variant=\"contained\" color=\"primary\" onClick={handleGenerateQuestions}>\r\n                    START GAME\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n","import {ResetQuestionnaireThunk, SaveQuestionThunk, ThunkTypes} from \"./types\";\r\nimport {createBasicThunkAction} from \"../../../helpers/createActions\";\r\nimport {IRootState, RootActions} from \"../../../index\";\r\nimport {saveResponse} from \"../plain/actions\";\r\n\r\nexport const saveQuestion = createBasicThunkAction<SaveQuestionThunk, IRootState, RootActions>(\r\n    ThunkTypes.SAVE_QUESTION,\r\n    (payload) => (dispatch, getState) => {\r\n\r\n        const state = getState()\r\n\r\n        const qId = state.main.question - 1\r\n\r\n        const currentQ = state.main.questions[qId]\r\n\r\n        const isAnswerCorrect = currentQ.correct_answer === payload\r\n\r\n        dispatch(saveResponse({qId, answer: payload, win: !!isAnswerCorrect}))\r\n    }\r\n)\r\n\r\nexport const resetQuestionnaire = createBasicThunkAction<ResetQuestionnaireThunk, IRootState, RootActions>(\r\n    ThunkTypes.RESET,\r\n    () => (dispatch, state) => {\r\n\r\n    }\r\n)\r\n","import React, {FC, useCallback, useMemo} from \"react\";\r\nimport {IQuestion} from \"../interfaces\";\r\nimport {FormControl, FormControlLabel, FormLabel, Radio, RadioGroup} from \"@material-ui/core\";\r\nimport {saveQuestion} from \"../store/modules/main/thunk/basic-actions\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {selectQuestion} from \"../store/modules/main/plain/selectors\";\r\n\r\ninterface IProps {\r\n    question: IQuestion\r\n}\r\n\r\nexport const Question: FC<IProps> = ({question}) => {\r\n    const dispatch = useDispatch()\r\n\r\n    const questionId = useSelector(selectQuestion)\r\n\r\n    const allVariants: string[] = useMemo(() => {\r\n        return [...question.incorrect_answers, question.correct_answer]\r\n    }, [question.incorrect_answers, question.correct_answer])\r\n\r\n    const handleChosen = useCallback((e) => {\r\n        dispatch(saveQuestion(e.target.value))\r\n    }, [dispatch])\r\n\r\n    return (\r\n        <>\r\n            <FormControl component=\"fieldset\">\r\n                <FormLabel component=\"legend\">{questionId}. {question.question}</FormLabel>\r\n                <br/>\r\n                <RadioGroup aria-label=\"gender\" name=\"gender1\">\r\n                    {\r\n                        allVariants.map((item, id) => (\r\n                            <FormControlLabel key={id} value={item}\r\n                                              control={<Radio onClick={handleChosen}/>}\r\n                                              label={item}/>\r\n                        ))\r\n                    }\r\n                </RadioGroup>\r\n            </FormControl>\r\n        </>\r\n\r\n    );\r\n}\r\n","import React, {useEffect, useState} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {openModal} from \"../../store/modules/main/plain/actions\";\r\nimport {selectQuestionsLength} from \"../../store/modules/main/plain/selectors\";\r\n\r\nexport const Timer = () => {\r\n    const dispatch = useDispatch()\r\n\r\n    const questions = useSelector(selectQuestionsLength)\r\n\r\n    const [counter, setCounter] = useState(questions * 60)\r\n\r\n    useEffect(() => {\r\n        const timer =\r\n            counter > 0 && setInterval(() => setCounter(counter - 1), 1000);\r\n\r\n        if (!counter)\r\n            dispatch(openModal({\r\n                tile: 'TIME LIMIT REACHED',\r\n                content: 'You reached the time limit',\r\n                withoutClose: true\r\n            }))\r\n        return () => clearInterval(timer);\r\n    }, [dispatch, counter])\r\n\r\n    return (\r\n        <>\r\n            Timer {new Date(counter * 1000).toISOString().substr(11, 8)}\r\n        </>\r\n    )\r\n}\r\n\r\n","import React, {FC} from \"react\";\r\nimport {Button, makeStyles} from \"@material-ui/core\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {\r\n    isFormSubmitted,\r\n    selectCurrentQuestion,\r\n    selectIsLastQuestion,\r\n    selectQuestion,\r\n    selectQuestionnaire,\r\n    selectQuestionsLength\r\n} from \"../store/modules/main/plain/selectors\";\r\nimport {Question} from \"./Question\";\r\nimport {openModal, resetQuestionnaire, setQuestion, setSubmitted} from \"../store/modules/main/plain/actions\";\r\nimport {Timer} from \"./elements/Timer\";\r\n\r\ninterface IProps {\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    card: {\r\n        textAlign: 'center'\r\n    },\r\n\r\n    question: {\r\n        marginBottom: theme.spacing(5),\r\n        marginTop: theme.spacing(5)\r\n    },\r\n}));\r\n\r\nexport const Questionnaire: FC<IProps> = () => {\r\n\r\n    const classes = useStyles()\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const isSubmitted = useSelector(isFormSubmitted)\r\n\r\n    const currentQuestion = useSelector(selectCurrentQuestion)\r\n\r\n    const question = useSelector(selectQuestion)\r\n\r\n    const isLastQuestions = useSelector(selectIsLastQuestion)\r\n\r\n    const questionL = useSelector(selectQuestionsLength)\r\n\r\n    const {score, responses} = useSelector(selectQuestionnaire)\r\n\r\n    const handleNavigation = (target: 'back' | 'next') => {\r\n        if (target === 'next')\r\n            dispatch(setQuestion(question + 1))\r\n        else if (target === 'back')\r\n            dispatch(setQuestion(question - 1))\r\n    }\r\n\r\n    const handleSubmit = () => {\r\n        dispatch(setSubmitted())\r\n        dispatch(openModal({\r\n            title: 'Questionnaire result',\r\n            content: `You answered correctly on ${score} from ${questionL} questions !`\r\n        }))\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div> {!isSubmitted && <Timer/>} </div>\r\n\r\n            <div className={classes.card}>\r\n\r\n                <div className={classes.question}>\r\n                    <Question question={currentQuestion}/>\r\n                </div>\r\n\r\n                <div>\r\n                    <Button variant=\"contained\" color='secondary'\r\n                            onClick={() => dispatch(resetQuestionnaire())}>RESET</Button>\r\n\r\n                    <Button disabled={question === 1} variant=\"contained\"\r\n                            onClick={() => handleNavigation('back')}>BACK</Button>\r\n\r\n                    <Button disabled={isLastQuestions} variant=\"contained\"\r\n                            onClick={() => handleNavigation('next')}>NEXT</Button>\r\n\r\n                    <Button disabled={!isLastQuestions} variant=\"contained\" color='primary'\r\n                            onClick={handleSubmit}>SUBMIT</Button>\r\n                </div>\r\n            </div>\r\n\r\n        </>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport {Link, Typography} from \"@material-ui/core\";\r\n\r\nexport const Copyright = () => (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n        {'Copyright © '}\r\n        <Link color=\"inherit\" href=\"https://github.com/thecodedealer\">\r\n            CODE.DEALER\r\n        </Link>{' '}\r\n        {new Date().getFullYear()}\r\n        {'.'}\r\n    </Typography>\r\n);\r\n\r\n","import React, {FC} from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {selectModal} from \"../../store/modules/main/plain/selectors\";\r\nimport {closeModal, resetQuestionnaire} from \"../../store/modules/main/plain/actions\";\r\n\r\ninterface IProps {\r\n}\r\n\r\nexport const Modal: FC<IProps> = () => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const {open, title, content} = useSelector(selectModal)\r\n\r\n    const handleReset = () => {\r\n        dispatch(resetQuestionnaire())\r\n        dispatch(closeModal())\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Dialog\r\n                open={open}\r\n                aria-labelledby=\"alert-dialog-title\"\r\n                aria-describedby=\"alert-dialog-description\"\r\n            >\r\n                <DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText id=\"alert-dialog-description\">\r\n                        {content}\r\n                    </DialogContentText>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={handleReset} color=\"primary\">\r\n                        Reset\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n}\r\n","import React, {FC} from \"react\";\r\nimport {AppBar, CssBaseline, makeStyles, Paper, Toolbar, Typography} from \"@material-ui/core\";\r\nimport {MainForm} from \"./MainForm\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {selectStep} from \"../store/modules/main/plain/selectors\";\r\nimport {Questionnaire} from \"./Questionnaire\";\r\nimport {Copyright} from \"./elements/Copyright\";\r\nimport {Modal} from \"./modals/Modal\";\r\n\r\ninterface IProps {\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    appBar: {\r\n        position: 'relative',\r\n    },\r\n    layout: {\r\n        width: 'auto',\r\n        marginLeft: theme.spacing(2),\r\n        marginRight: theme.spacing(2),\r\n        [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\r\n            width: 600,\r\n            marginLeft: 'auto',\r\n            marginRight: 'auto',\r\n        },\r\n    },\r\n    paper: {\r\n        marginTop: theme.spacing(3),\r\n        marginBottom: theme.spacing(3),\r\n        padding: theme.spacing(2),\r\n        [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\r\n            marginTop: theme.spacing(6),\r\n            marginBottom: theme.spacing(6),\r\n            padding: theme.spacing(3),\r\n        },\r\n    },\r\n    stepper: {\r\n        padding: theme.spacing(3, 0, 5),\r\n    },\r\n    buttons: {\r\n        display: 'flex',\r\n        justifyContent: 'flex-end',\r\n    },\r\n    button: {\r\n        marginTop: theme.spacing(3),\r\n        marginLeft: theme.spacing(1),\r\n    },\r\n}));\r\n\r\nexport const Layout: FC<IProps> = () => {\r\n\r\n    const step = useSelector(selectStep)\r\n\r\n    const classes = useStyles();\r\n\r\n    return (\r\n\r\n        <React.Fragment>\r\n\r\n            <Modal/>\r\n\r\n            <CssBaseline/>\r\n            <AppBar position=\"absolute\" color=\"default\" className={classes.appBar}>\r\n                <Toolbar>\r\n                    <Typography variant=\"h6\" color=\"inherit\" noWrap>\r\n                        TRIVIA APP\r\n                    </Typography>\r\n\r\n                </Toolbar>\r\n            </AppBar>\r\n\r\n            <main className={classes.layout}>\r\n                <Paper className={classes.paper}>\r\n                    {step === 1 && <MainForm/>}\r\n                    {step === 2 && <Questionnaire/>}\r\n                </Paper>\r\n                <Copyright/>\r\n            </main>\r\n        </React.Fragment>\r\n\r\n    );\r\n}\r\n\r\n\r\n","import React, {useEffect} from 'react';\nimport {Layout} from \"./components/Layout\";\nimport {useDispatch} from \"react-redux\";\nimport {getTriviaCategories} from \"./store/modules/main/thunk/fetch-actions\";\n\nfunction App() {\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(getTriviaCategories())\n    }, [dispatch])\n\n    return (\n        <div>\n            <Layout/>\n        </div>\n    );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {applyMiddleware, combineReducers, compose, createStore, Middleware, Reducer, Store, StoreEnhancer} from \"redux\";\r\nimport {produce} from 'immer'\r\n\r\n\r\nexport class ReSoreBuilder {\r\n    // @ts-ignore\r\n    private store: Store\r\n    private middlewares: Middleware[] = []\r\n    // @ts-ignore\r\n    private enhancer: StoreEnhancer\r\n    // @ts-ignore\r\n    private withEnhancer: boolean\r\n    // @ts-ignore\r\n    private rootReducer: Reducer\r\n    private reducers: { [key: string]: Reducer } = {}\r\n\r\n    public getStore(): Store {\r\n        return this.store;\r\n    }\r\n\r\n\r\n    public createStore(withEnhancer = false) {\r\n        this.withEnhancer = withEnhancer\r\n\r\n        // apply middlewares and create store enhancer\r\n        this.enhancer = this.createStoreEnhancer();\r\n\r\n        //create root reducer\r\n        this.rootReducer = this.createRootReducer()\r\n\r\n        // create redux store\r\n        this.store = createStore(this.rootReducer, this.enhancer)\r\n    }\r\n\r\n    public addReducer(name: string, reducer: Reducer) {\r\n        if (!this.reducers[name])\r\n            this.reducers[name] = reducer\r\n        else\r\n            console.warn(`${name} reducer is already added!`)\r\n    }\r\n\r\n    public addMiddlewares(...middlewares: Middleware[]) {\r\n        this.middlewares = [...this.middlewares, ...middlewares]\r\n    }\r\n\r\n    private createRootReducer(): Reducer {\r\n        return combineReducers({\r\n            ...this.getReducers(),\r\n        });\r\n    }\r\n\r\n    private createStoreEnhancer(): StoreEnhancer {\r\n        const composeEnhancer = this.getComposeEnhancer();\r\n        return composeEnhancer(applyMiddleware(...this.middlewares))\r\n    }\r\n\r\n    private getReducers() {\r\n        for (const key in this.reducers) {\r\n            this.reducers[key] = this.resolveReducer(this.reducers[key])\r\n        }\r\n        return this.reducers\r\n    }\r\n\r\n    // @ts-ignore\r\n    private resolveReducer(reducer) {\r\n        // @ts-ignore\r\n        return (state, action) => produce(state, draftState => reducer(draftState, action))\r\n    }\r\n\r\n    private getComposeEnhancer() {\r\n        // @ts-ignore\r\n        return (this.withEnhancer && process.env.NODE_ENV === 'development' && window && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__)\r\n            || compose;\r\n    }\r\n}\r\n","import {PlainActions, ActionTypes, IState} from \"./types\";\r\nimport {ReReducer} from \"../../../../libs/reStore\";\r\n\r\n/**\r\n * REDUCER\r\n * first define and export reducer name as reducerName\r\n * then define and export initial state as initialState\r\n * last create the reducer which will be type ReReducer<IState, PlainActions>\r\n */\r\n\r\nexport const reducerName = 'core';\r\n\r\n\r\nexport const initialState: IState = {\r\n    test: null,\r\n\r\n    requests: {\r\n        stats: {\r\n            initiated: 0,\r\n            success: 0,\r\n            failed: 0,\r\n            canceled: 0,\r\n        },\r\n        logs: {\r\n            success: {},\r\n            failed: {},\r\n            canceled: {},\r\n        },\r\n    },\r\n}\r\n\r\nexport const reducer: ReReducer<IState, PlainActions> = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ActionTypes.TEST: {\r\n            state.test = action.payload\r\n            break\r\n        }\r\n\r\n        case ActionTypes.SET_REQUEST_INITIATED: {\r\n            ++state.requests.stats.initiated\r\n            break;\r\n        }\r\n\r\n        case ActionTypes.SET_REQUEST_SUCCESS: {\r\n            ++state.requests.stats.success\r\n\r\n            // log request\r\n            const url = action.payload.request.config.url\r\n\r\n            const item = {\r\n                time: action.payload.time,\r\n                request: action.payload.request\r\n            }\r\n\r\n            if (state.requests.logs.success[url])\r\n                state.requests.logs.success[url].push(item)\r\n            else\r\n                state.requests.logs.success[url] = [item]\r\n\r\n            break\r\n        }\r\n\r\n        case ActionTypes.SET_REQUEST_CANCELLED: {\r\n            ++state.requests.stats.canceled\r\n\r\n            // log request\r\n            const url = action.payload.request.config.url\r\n\r\n            const item = {\r\n                time: action.payload.time,\r\n                request: action.payload.request\r\n            }\r\n\r\n            if (state.requests.logs.canceled[url])\r\n                state.requests.logs.canceled[url].push(item)\r\n            else\r\n                state.requests.logs.canceled[url] = [item]\r\n            break\r\n        }\r\n\r\n        case ActionTypes.SET_REQUEST_FAILED: {\r\n            ++state.requests.stats.failed\r\n\r\n            // log request\r\n            const url = action.payload.request.config.url\r\n\r\n            const item = {\r\n                time: action.payload.time,\r\n                request: action.payload.request\r\n            }\r\n\r\n            if (state.requests.logs.failed[url])\r\n                state.requests.logs.failed[url].push(item)\r\n            else\r\n                state.requests.logs.failed[url] = [item]\r\n            break\r\n        }\r\n\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}\r\n","import {ActionTypes, IState, PlainActions} from \"./types\";\r\nimport {ReReducer} from \"../../../../libs/reStore\";\r\n\r\n/**\r\n * REDUCER\r\n * first define and export reducer name as reducerName\r\n * then define and export initial state as initialState\r\n * last create the reducer which will be type ReReducer\r\n */\r\n\r\nexport const reducerName = 'main';\r\n\r\nexport const initialState: IState = {\r\n    submitted: false,\r\n    categories: [],\r\n    questions: [],\r\n    step: 1,\r\n    question: 1,\r\n\r\n    questionnaire: {\r\n        responses: {},\r\n        score: 0\r\n    },\r\n\r\n    modal: {\r\n        open: false,\r\n        title: '',\r\n        content: ''\r\n    }\r\n}\r\n\r\nexport const reducer: ReReducer<IState, PlainActions> = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ActionTypes.SET_QUESTIONS: {\r\n            state.questions = action.payload\r\n            break\r\n        }\r\n\r\n        case ActionTypes.SET_STEP: {\r\n            state.step = action.payload\r\n            break\r\n        }\r\n\r\n        case ActionTypes.SET_QUESTION: {\r\n            state.question = action.payload\r\n            break\r\n        }\r\n\r\n        case ActionTypes.SAVE_RESPONSE: {\r\n            const {qId, answer, win} = action.payload\r\n\r\n            const responses = state.questionnaire.responses\r\n\r\n            if (!!responses[qId] && !!responses[qId].win && !win)\r\n                state.questionnaire.score -= 1\r\n\r\n            state.questionnaire.responses[qId] = {answer, win}\r\n\r\n            if (win)\r\n                state.questionnaire.score += 1\r\n\r\n            break\r\n        }\r\n\r\n        case ActionTypes.OPEN_MODAL: {\r\n            const {title, content} = action.payload\r\n            state.modal.open = true\r\n\r\n            state.modal.title = title\r\n            state.modal.content = content\r\n\r\n            break\r\n        }\r\n\r\n        case ActionTypes.CLOSE_MODAL: {\r\n            state.modal.open = false\r\n            break\r\n        }\r\n\r\n        case ActionTypes.RESET_QUESTIONNAIRE: {\r\n            state.questions = []\r\n            state.step = 1\r\n            state.question = 1\r\n            state.submitted = false\r\n\r\n            state.questionnaire = {\r\n                responses: {},\r\n                score: 0\r\n            }\r\n\r\n            break\r\n        }\r\n\r\n        case ActionTypes.SET_CATEGORIES: {\r\n            state.categories = action.payload\r\n            break\r\n        }\r\n\r\n        case ActionTypes.SET_SUBMITTED: {\r\n            state.submitted = true\r\n            break\r\n        }\r\n\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}\r\n","import {ReSoreBuilder} from \"../libs/reStore\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport {reducer as coreReducer, reducerName as coreReducerName} from './modules/core/plain/reducer'\r\nimport {reducer as mainReducer, reducerName as mainReducerName} from './modules/main/plain/reducer'\r\nimport {IState as IMainState, PlainActions as MainActionInterfaces} from \"./modules/main/plain/types\";\r\nimport {ThunkActions as MainThunkActions} from './modules/main/thunk/types'\r\n\r\n\r\nimport {IState as ICoreState, PlainActions as CorePlainActions} from './modules/core/plain/types'\r\n\r\nexport type RootPlainActions =\r\n    | CorePlainActions\r\n    | MainActionInterfaces\r\n\r\nexport type RootThunkActions =\r\n    | MainThunkActions\r\n\r\nexport type RootActions = RootPlainActions | RootThunkActions\r\n\r\n// create root state interface\r\nexport interface IRootState {\r\n    core: ICoreState\r\n    main: IMainState\r\n}\r\n\r\nconst storeBuilder = new ReSoreBuilder()\r\n\r\n//add middlewares\r\nstoreBuilder.addMiddlewares(\r\n    thunk\r\n)\r\n\r\n// add modules\r\nstoreBuilder.addReducer(coreReducerName, coreReducer)\r\nstoreBuilder.addReducer(mainReducerName, mainReducer)\r\n\r\n\r\n// create store\r\nstoreBuilder.createStore(true)\r\n\r\n\r\n// export store builder\r\nexport {storeBuilder}\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {Provider} from 'react-redux'\nimport {storeBuilder} from \"./store\";\n\nconst store = storeBuilder.getStore()\n\n\nReactDOM.render(\n    <Provider store={store}>\n        <App/>\n    </Provider>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}