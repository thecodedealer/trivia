(this.webpackJsonptrivia_game_react=this.webpackJsonptrivia_game_react||[]).push([[0],{123:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),i=n(10),s=n.n(i),o=n(42),u=n(161),l=n(174),d=n(175),E=n(176),j=n(59),b=n(125),p=n(43),O=n(32),h=n(165),f=n(166),S=n(177),m=n(182),T=n(167),g=n(64),v=n.n(g),y=n(77),_=n(78),x=n(58),I=n.n(x);!function(e){e.TEST="core/TEST",e.SET_REQUEST_INITIATED="core/SET_REQUEST_INITIATED",e.SET_REQUEST_SUCCESS="core/SET_REQUEST_SUCCESS",e.SET_REQUEST_FAILED="core/SET_REQUEST_FAILED",e.SET_REQUEST_CANCELLED="core/SET_REQUEST_CANCELLED",e.SET_REQUEST_FINAL="core/SET_REQUEST_FINAL"}(a||(a={}));var C,R,q=function(e,t){return"".concat(e,"_REQ_").concat(t)},N=function(e){return{type:a.SET_REQUEST_SUCCESS,payload:e}},A=function(e){return{type:a.SET_REQUEST_FAILED,payload:e}},k=function(e){var t=e.actionType,n=e.requestConfig,a=e.initHook,r=e.successHook,c=e.errorHook,i=e.finalHook,s=e.wrappers,o=n.method,u=n.path,l=n.axiosConfig,d=(new Date).getTime();return function(e,n){var E=n();return I.a.defaults.baseURL="https://opentdb.com/",I.a.defaults.timeout=2e4,e(U(t)),a&&a(e,E),F(s,"init"),I.a[o.toLowerCase()](u,l).then((function(n){var a=(new Date).getTime();e(w({type:t,time:{start:d,end:a,duration:a-d},request:n})),r&&r(n,e,E),F(s,"success")})).catch((function(n){var a=(new Date).getTime();e(Q({type:t,time:{start:d,end:a,duration:a-d},request:n})),c&&c(n,e,E),F(s,"error")})).finally((function(){i&&i(e,E),F(s,"final")}))}},U=function(e){return function(t){t({type:a.SET_REQUEST_INITIATED}),t({type:q(e,"INIT")})}},w=function(e){var t=e.type,n=e.time,a=e.request;return function(e){e(N({type:t,time:n,request:a})),e({type:q(t,"SUCCESS")})}},Q=function(e){var t=e.type,n=e.time,a=e.request;return function(e){e(A({type:t,time:n,request:a})),e({type:q(t,"FAILED")})}},D=n(79),L=n.n(D),M=function(e,t){return function(n){return function(a,r){return a({type:e}),a(t(n))}}},F=function(e,t){if(!L.a.isEmpty(e)){var n,a=Object(_.a)(e);try{for(a.s();!(n=a.n()).done;){var r=n.value;"init"===t&&r.init&&r.init(),"success"===t&&r.success&&r.success(),"error"===t&&r.error&&r.error(),"final"===t&&r.final&&r.final()}}catch(c){a.e(c)}finally{a.f()}}},P=function(e,t,n,a){var r=n.init,c=n.success,i=n.error,s=n.final;return function(n){return function(){var o=Object(y.a)(v.a.mark((function o(u){return v.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",u(k({actionType:e,requestConfig:t(n),initHook:r,successHook:c,errorHook:i,finalHook:s,wrappers:a})));case 1:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()}};!function(e){e.GET_CATEGORIES="main/thunk/GET_CATEGORIES",e.FETCH_QUESTIONS="main/thunk/FETCH_QUESTIONS",e.SAVE_QUESTION="main/thunk/SAVE_QUESTION",e.RESET="main/thunk/RESET"}(C||(C={})),function(e){e.SET_QUESTIONS="main/SET_QUESTIONS",e.SET_STEP="main/SET_STEP",e.SET_QUESTION="main/SET_QUESTION",e.SAVE_RESPONSE="main/SAVE_RESPONSE",e.OPEN_MODAL="main/OPEN_MODAL",e.CLOSE_MODAL="main/CLOSE_MODAL",e.RESET_QUESTIONNAIRE="main/RESET_QUESTIONNAIRE",e.SET_CATEGORIES="main/SET_CATEGORIES",e.SET_SUBMITTED="main/SET_SUBMITTED"}(R||(R={}));var B=function(e){return{type:R.SET_QUESTION,payload:e}},G=function(e){return{type:R.OPEN_MODAL,payload:e}},H=function(){return{type:R.RESET_QUESTIONNAIRE}},V=P(C.GET_CATEGORIES,(function(e){return{method:"GET",path:"api_category.php",data:e}}),{success:function(e,t,n){var a;t((a=e.data.trivia_categories,{type:R.SET_CATEGORIES,payload:a}))},error:function(e){}}),Y=P(C.FETCH_QUESTIONS,(function(e){return{method:"GET",path:"api.php",axiosConfig:{params:e}}}),{success:function(e,t,n){var a;t((a=e.data.results,{type:R.SET_QUESTIONS,payload:a})),t(function(e){return{type:R.SET_STEP,payload:e}}(2))},error:function(e){}}),J=n(11),W=n(19),K=function(e){return e.main},X=Object(W.a)(K,(function(e){return e.questions})),z=Object(W.a)(K,(function(e){return e.step})),Z=Object(W.a)(K,(function(e){return e.question})),$=Object(W.a)(X,Z,(function(e,t){return e[t-1]})),ee=Object(W.a)(X,Z,(function(e,t){return e.length===t})),te=Object(W.a)(X,(function(e){return e.length})),ne=Object(W.a)(K,(function(e){return e.modal})),ae=Object(W.a)(K,(function(e){return e.questionnaire})),re=Object(W.a)(K,(function(e){return e.categories})),ce=Object(W.a)(K,(function(e){return e.submitted})),ie=n(3),se=Object(u.a)((function(e){return{card:{textAlign:"center"},formControl:{margin:e.spacing(1),minWidth:200},selectEmpty:{marginTop:e.spacing(2)},title:{marginBottom:e.spacing(5)},btns:{marginTop:e.spacing(5)},info:{marginTop:e.spacing(3)}}})),oe=function(){var e=Object(J.b)(),t=se(),n=Object(r.useState)(5),a=Object(O.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)(0),o=Object(O.a)(s,2),u=o[0],l=o[1],d=Object(r.useState)("easy"),E=Object(O.a)(d,2),b=E[0],g=E[1],v=Object(r.useState)("multiple"),y=Object(O.a)(v,2),_=y[0],x=y[1],I=Object(J.c)(re);return Object(ie.jsxs)("div",{className:t.card,children:[Object(ie.jsx)("div",{className:t.title,children:Object(ie.jsx)(j.a,{variant:"h5",component:"h2",children:"Select your preferences"})}),Object(ie.jsxs)(h.a,{className:t.formControl,children:[Object(ie.jsx)(f.a,{id:"demo-simple-select-label",children:"Number of questions"}),Object(ie.jsxs)(S.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:c,onChange:function(e){i(e.target.value)},children:[Object(ie.jsx)(m.a,{value:5,children:"5"}),Object(ie.jsx)(m.a,{value:10,children:"10"}),Object(ie.jsx)(m.a,{value:15,children:"15"})]})]}),Object(ie.jsxs)(h.a,{className:t.formControl,children:[Object(ie.jsx)(f.a,{id:"demo-simple-select-label",children:"Difficulty"}),Object(ie.jsxs)(S.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:b,onChange:function(e){g(e.target.value)},children:[Object(ie.jsx)(m.a,{value:"easy",children:"Easy"}),Object(ie.jsx)(m.a,{value:"medium",children:"Medium"}),Object(ie.jsx)(m.a,{value:"hard",children:"Hard"})]})]}),Object(ie.jsxs)(h.a,{className:t.formControl,children:[Object(ie.jsx)(f.a,{id:"demo-simple-select-label",children:"Type"}),Object(ie.jsxs)(S.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:_,disabled:!0,onChange:function(e){x(e.target.value)},children:[Object(ie.jsx)(m.a,{value:"any",children:"Any"}),Object(ie.jsx)(m.a,{value:"multiple",children:"Multiple Choice"}),Object(ie.jsx)(m.a,{value:"boolean",children:"True / false"})]})]}),Object(ie.jsxs)(h.a,{className:t.formControl,children:[Object(ie.jsx)(f.a,{id:"demo-simple-select-label",children:"Categories"}),Object(ie.jsxs)(S.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:u,onChange:function(e){l(e.target.value)},children:[Object(ie.jsx)(m.a,{value:0,children:"Select category"}),I.map((function(e,t){return Object(ie.jsx)(m.a,{value:e.id,children:e.name},e.id)}))]})]}),Object(ie.jsx)("div",{className:t.info,children:Object(ie.jsx)(j.a,{variant:"caption",children:"You will have ".concat(c," minutes to complete the questionnaire!")})}),Object(ie.jsx)("div",{className:t.btns,children:Object(ie.jsx)(T.a,{variant:"contained",color:"primary",onClick:function(){var t={amount:c,difficulty:b,type:_};u&&(t=Object(p.a)(Object(p.a)({},t),{},{category:u})),e(Y(t))},children:"START GAME"})})]})},ue=n(48),le=n(124),de=n(180),Ee=n(168),je=n(178),be=M(C.SAVE_QUESTION,(function(e){return function(t,n){var a=n(),r=a.main.question-1,c=a.main.questions[r].correct_answer===e;t(function(e){return{type:R.SAVE_RESPONSE,payload:e}}({qId:r,answer:e,win:!!c}))}})),pe=(M(C.RESET,(function(){return function(e,t){}})),function(e){var t=e.question,n=Object(J.b)(),a=Object(J.c)(Z),c=Object(r.useMemo)((function(){return[].concat(Object(ue.a)(t.incorrect_answers),[t.correct_answer])}),[t.incorrect_answers,t.correct_answer]),i=Object(r.useCallback)((function(e){n(be(e.target.value))}),[n]);return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)(h.a,{component:"fieldset",children:[Object(ie.jsxs)(le.a,{component:"legend",children:[a,". ",t.question]}),Object(ie.jsx)("br",{}),Object(ie.jsx)(de.a,{"aria-label":"gender",name:"gender1",children:c.map((function(e,t){return Object(ie.jsx)(Ee.a,{value:e,control:Object(ie.jsx)(je.a,{onClick:i}),label:e},t)}))})]})})}),Oe=function(){var e=Object(J.b)(),t=Object(J.c)(te),n=Object(r.useState)(60*t),a=Object(O.a)(n,2),c=a[0],i=a[1];return Object(r.useEffect)((function(){var t=c>0&&setInterval((function(){return i(c-1)}),1e3);return c||e(G({tile:"TIME LIMIT REACHED",content:"You reached the time limit",withoutClose:!0})),function(){return clearInterval(t)}}),[e,c]),Object(ie.jsxs)(ie.Fragment,{children:["Timer ",new Date(1e3*c).toISOString().substr(11,8)]})},he=Object(u.a)((function(e){return{card:{textAlign:"center"},question:{marginBottom:e.spacing(5),marginTop:e.spacing(5)}}})),fe=function(){var e=he(),t=Object(J.b)(),n=Object(J.c)(ce),a=Object(J.c)($),r=Object(J.c)(Z),c=Object(J.c)(ee),i=Object(J.c)(te),s=Object(J.c)(ae),o=s.score,u=(s.responses,function(e){"next"===e?t(B(r+1)):"back"===e&&t(B(r-1))});return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)("div",{children:[" ",!n&&Object(ie.jsx)(Oe,{})," "]}),Object(ie.jsxs)("div",{className:e.card,children:[Object(ie.jsx)("div",{className:e.question,children:Object(ie.jsx)(pe,{question:a})}),Object(ie.jsxs)("div",{children:[Object(ie.jsx)(T.a,{variant:"contained",color:"secondary",onClick:function(){return t(H())},children:"RESET"}),Object(ie.jsx)(T.a,{disabled:1===r,variant:"contained",onClick:function(){return u("back")},children:"BACK"}),Object(ie.jsx)(T.a,{disabled:c,variant:"contained",onClick:function(){return u("next")},children:"NEXT"}),Object(ie.jsx)(T.a,{disabled:!c,variant:"contained",color:"primary",onClick:function(){t({type:R.SET_SUBMITTED}),t(G({title:"Questionnaire result",content:"You answered correctly on ".concat(o," from ").concat(i," questions !")}))},children:"SUBMIT"})]})]})]})},Se=n(169),me=function(){return Object(ie.jsxs)(j.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(ie.jsx)(Se.a,{color:"inherit",href:"https://github.com/thecodedealer",children:"CODE.DEALER"})," ",(new Date).getFullYear(),"."]})},Te=n(181),ge=n(173),ve=n(171),ye=n(172),_e=n(170),xe=function(){var e=Object(J.b)(),t=Object(J.c)(ne),n=t.open,a=t.title,r=t.content;return Object(ie.jsx)("div",{children:Object(ie.jsxs)(Te.a,{open:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(ie.jsx)(_e.a,{id:"alert-dialog-title",children:a}),Object(ie.jsx)(ve.a,{children:Object(ie.jsx)(ye.a,{id:"alert-dialog-description",children:r})}),Object(ie.jsx)(ge.a,{children:Object(ie.jsx)(T.a,{onClick:function(){e(H()),e({type:R.CLOSE_MODAL})},color:"primary",children:"Reset"})})]})})},Ie=Object(u.a)((function(e){return{appBar:{position:"relative"},layout:Object(o.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:Object(o.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}})),Ce=function(){var e=Object(J.c)(z),t=Ie();return Object(ie.jsxs)(c.a.Fragment,{children:[Object(ie.jsx)(xe,{}),Object(ie.jsx)(l.a,{}),Object(ie.jsx)(d.a,{position:"absolute",color:"default",className:t.appBar,children:Object(ie.jsx)(E.a,{children:Object(ie.jsx)(j.a,{variant:"h6",color:"inherit",noWrap:!0,children:"TRIVIA APP"})})}),Object(ie.jsxs)("main",{className:t.layout,children:[Object(ie.jsxs)(b.a,{className:t.paper,children:[1===e&&Object(ie.jsx)(oe,{}),2===e&&Object(ie.jsx)(fe,{})]}),Object(ie.jsx)(me,{})]})]})};var Re=function(){var e=Object(J.b)();return Object(r.useEffect)((function(){e(V())}),[e]),Object(ie.jsx)("div",{children:Object(ie.jsx)(Ce,{})})},qe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,184)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},Ne=n(84),Ae=n(85),ke=n(49),Ue=n(86),we=function(){function e(){Object(Ne.a)(this,e),this.store=void 0,this.middlewares=[],this.enhancer=void 0,this.withEnhancer=void 0,this.rootReducer=void 0,this.reducers={}}return Object(Ae.a)(e,[{key:"getStore",value:function(){return this.store}},{key:"createStore",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.withEnhancer=e,this.enhancer=this.createStoreEnhancer(),this.rootReducer=this.createRootReducer(),this.store=Object(ke.d)(this.rootReducer,this.enhancer)}},{key:"addReducer",value:function(e,t){this.reducers[e]?console.warn("".concat(e," reducer is already added!")):this.reducers[e]=t}},{key:"addMiddlewares",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.middlewares=[].concat(Object(ue.a)(this.middlewares),t)}},{key:"createRootReducer",value:function(){return Object(ke.b)(Object(p.a)({},this.getReducers()))}},{key:"createStoreEnhancer",value:function(){return this.getComposeEnhancer()(ke.a.apply(void 0,Object(ue.a)(this.middlewares)))}},{key:"getReducers",value:function(){for(var e in this.reducers)this.reducers[e]=this.resolveReducer(this.reducers[e]);return this.reducers}},{key:"resolveReducer",value:function(e){return function(t,n){return Object(Ue.a)(t,(function(t){return e(t,n)}))}}},{key:"getComposeEnhancer",value:function(){return this.withEnhancer,ke.c}}]),e}(),Qe=n(87),De={test:null,requests:{stats:{initiated:0,success:0,failed:0,canceled:0},logs:{success:{},failed:{},canceled:{}}}},Le={submitted:!1,categories:[],questions:[],step:1,question:1,questionnaire:{responses:{},score:0},modal:{open:!1,title:"",content:""}},Me=new we;Me.addMiddlewares(Qe.a),Me.addReducer("core",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.TEST:e.test=t.payload;break;case a.SET_REQUEST_INITIATED:++e.requests.stats.initiated;break;case a.SET_REQUEST_SUCCESS:++e.requests.stats.success;var n=t.payload.request.config.url,r={time:t.payload.time,request:t.payload.request};e.requests.logs.success[n]?e.requests.logs.success[n].push(r):e.requests.logs.success[n]=[r];break;case a.SET_REQUEST_CANCELLED:++e.requests.stats.canceled;var c=t.payload.request.config.url,i={time:t.payload.time,request:t.payload.request};e.requests.logs.canceled[c]?e.requests.logs.canceled[c].push(i):e.requests.logs.canceled[c]=[i];break;case a.SET_REQUEST_FAILED:++e.requests.stats.failed;var s=t.payload.request.config.url,o={time:t.payload.time,request:t.payload.request};e.requests.logs.failed[s]?e.requests.logs.failed[s].push(o):e.requests.logs.failed[s]=[o];break;default:return e}})),Me.addReducer("main",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.SET_QUESTIONS:e.questions=t.payload;break;case R.SET_STEP:e.step=t.payload;break;case R.SET_QUESTION:e.question=t.payload;break;case R.SAVE_RESPONSE:var n=t.payload,a=n.qId,r=n.answer,c=n.win,i=e.questionnaire.responses;i[a]&&i[a].win&&!c&&(e.questionnaire.score-=1),e.questionnaire.responses[a]={answer:r,win:c},c&&(e.questionnaire.score+=1);break;case R.OPEN_MODAL:var s=t.payload,o=s.title,u=s.content;e.modal.open=!0,e.modal.title=o,e.modal.content=u;break;case R.CLOSE_MODAL:e.modal.open=!1;break;case R.RESET_QUESTIONNAIRE:e.questions=[],e.step=1,e.question=1,e.submitted=!1,e.questionnaire={responses:{},score:0};break;case R.SET_CATEGORIES:e.categories=t.payload;break;case R.SET_SUBMITTED:e.submitted=!0;break;default:return e}})),Me.createStore(!0);var Fe=Me.getStore();s.a.render(Object(ie.jsx)(J.a,{store:Fe,children:Object(ie.jsx)(Re,{})}),document.getElementById("root")),qe()}},[[123,1,2]]]);
//# sourceMappingURL=main.01d2d1ca.chunk.js.map